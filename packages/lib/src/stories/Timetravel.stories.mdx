import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import { ButtonGroup } from './ButtonGroup';

<Meta title="MDX/ButtonGroup" component={ButtonGroup} />

Кратко:
Сделать хождение по состоянию.

Результат:
2 списка, 3 кнопки хождения по состоянию.

Задание:

1. подключить библиотеку MobxStateTree, либо Immer, либо Rx, либо X на ваш выбор, если X может покрыть все кейсы, можно и без библиотек если сможете.
2. создать 2 списка с данными получаемыми первый раз явно через createRandomServerState, последующие разы из лайв обновления subscribeToServerState.
3. реализовать модуль хождения по состоянию
4. привязать этот модуль к кнопкам и спискам
5. добавить кнопку "умножить на %" с полем ввода типа число, для \* случайных элементов списка на %.
6. добавить кнопку "сохранить" возвращающую только измененное состояние в формате ServerState и делающее текущее состояние начальным.

Про хождение по состоянию:

1. Данные полученные из subscribeToServerState не должны инкрементировать таймтревел
2. Измененный пользователем элемент списка должен быть визуально выделен(как угодно), если текущее состояние отличается от начального.
3. Измененный сервером элемент списка должен быть визуально выделен(как угодно), если изменение повлияло на изменения пользователем.
4. Показывать лог действий/изменений в любом человеко читаемом виде
5. При возобновлении действий и слиянии/откате изменений, должно быть возможно применить операцию "умножить на %" с и без учета нового серверного состояния.

Оценка задания:
Максимум 4 балла.
По пунктам от 1 до 6+5, 2-0. По чистоте кода, 1-0. По соблюдению solid, 1-0.
Т.е. если все будет сделано но код будет очень грязным, то это максимум 2 из 4.
Требование к чистоте кода - чуть слабее уровня книги "Clean Code".

# Кнопки хождения по состоянию

- reset state - сбрасывает состояние в начальное (сброс)
- prev state - переключает на предыдущее состояние (отменена)
- next state - переключает на следующее состояние, если состояние было отменено (возобновление)

<Preview>
  <Story name="time travel buttons">
    <form>
      <ButtonGroup />
    </form>
  </Story>
</Preview>
